{"ast":null,"code":"import _slicedToArray from\"C:/Users/Shubham Gupta/Desktop/Project full/Server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useEffect,createContext,useReducer,useContext}from'react';import Navbar from'./components/Navbar';import\"./App.css\";import{BrowserRouter,Route,Switch,useHistory}from'react-router-dom';import Home from'./components/screens/Home';import Signin from'./components/screens/Signin';import Signup from'./components/screens/Signup';import Profile from'./components/screens/Profile';import UserProfile from'./components/screens/UserProfile';import SubscribedUserPosts from'./components/screens/SubscribesUserPosts';import CreatePost from'./components/screens/CreatePost';import{reducer,initialState}from'./reducers/userReducer';export var UserContext=/*#__PURE__*/createContext();var Routing=function Routing(){var history=useHistory();var _useContext=useContext(UserContext),state=_useContext.state,dispatch=_useContext.dispatch;useEffect(function(){var user=JSON.parse(localStorage.getItem(\"user\"));if(user){dispatch({type:\"USER\",payload:user});// history.push('/')\n}else{if(!history.location.pathname.startsWith('/reset'))history.push('/signin');}},[]);return/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signin\",children:/*#__PURE__*/_jsx(Signin,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",children:/*#__PURE__*/_jsx(Signup,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/profile\",children:/*#__PURE__*/_jsx(Profile,{})}),/*#__PURE__*/_jsx(Route,{path:\"/create\",children:/*#__PURE__*/_jsx(CreatePost,{})}),/*#__PURE__*/_jsx(Route,{path:\"/profile/:userid\",children:/*#__PURE__*/_jsx(UserProfile,{})}),/*#__PURE__*/_jsx(Route,{path:\"/myfollowingpost\",children:/*#__PURE__*/_jsx(SubscribedUserPosts,{})})]});};function App(){var _useReducer=useReducer(reducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];return/*#__PURE__*/_jsx(UserContext.Provider,{value:{state:state,dispatch:dispatch},children:/*#__PURE__*/_jsxs(BrowserRouter,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(Routing,{})]})});}export default App;","map":{"version":3,"sources":["C:/Users/Shubham Gupta/Desktop/Project full/Server/client/src/App.js"],"names":["React","useEffect","createContext","useReducer","useContext","Navbar","BrowserRouter","Route","Switch","useHistory","Home","Signin","Signup","Profile","UserProfile","SubscribedUserPosts","CreatePost","reducer","initialState","UserContext","Routing","history","state","dispatch","user","JSON","parse","localStorage","getItem","type","payload","location","pathname","startsWith","push","App"],"mappings":"wQAAA,MAAOA,CAAAA,KAAP,EAAcC,SAAd,CAAwBC,aAAxB,CAAsCC,UAAtC,CAAiDC,UAAjD,KAAkE,OAAlE,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAO,WAAP,CACA,OAAQC,aAAR,CAAsBC,KAAtB,CAA4BC,MAA5B,CAAmCC,UAAnC,KAAoD,kBAApD,CACA,MAAOC,CAAAA,IAAP,KAAiB,2BAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,6BAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,6BAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,8BAApB,CACA,MAAOC,CAAAA,WAAP,KAAwB,kCAAxB,CACA,MAAOC,CAAAA,mBAAP,KAAgC,0CAAhC,CACA,MAAOC,CAAAA,UAAP,KAAuB,iCAAvB,CACA,OAAQC,OAAR,CAAgBC,YAAhB,KAAmC,wBAAnC,CAEA,MAAO,IAAMC,CAAAA,WAAW,cAAGjB,aAAa,EAAjC,CAEP,GAAMkB,CAAAA,OAAO,CAAC,QAARA,CAAAA,OAAQ,EAAK,CACjB,GAAMC,CAAAA,OAAO,CAAGZ,UAAU,EAA1B,CADiB,gBAEQL,UAAU,CAACe,WAAD,CAFlB,CAEVG,KAFU,aAEVA,KAFU,CAEJC,QAFI,aAEJA,QAFI,CAGjBtB,SAAS,CAAC,UAAI,CACZ,GAAMuB,CAAAA,IAAI,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb,CACA,GAAGJ,IAAH,CAAQ,CACND,QAAQ,CAAC,CAACM,IAAI,CAAC,MAAN,CAAaC,OAAO,CAACN,IAArB,CAAD,CAAR,CACA;AACD,CAHD,IAGK,CACH,GAAG,CAACH,OAAO,CAACU,QAAR,CAAiBC,QAAjB,CAA0BC,UAA1B,CAAqC,QAArC,CAAJ,CACEZ,OAAO,CAACa,IAAR,CAAa,SAAb,EACH,CACF,CATQ,CASP,EATO,CAAT,CAUA,mBACE,MAAC,MAAD,yBACA,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,GAAlB,uBACE,KAAC,IAAD,IADF,EADA,cAIA,KAAC,KAAD,EAAO,IAAI,CAAC,SAAZ,uBACE,KAAC,MAAD,IADF,EAJA,cAOA,KAAC,KAAD,EAAO,IAAI,CAAC,SAAZ,uBACE,KAAC,MAAD,IADF,EAPA,cAUA,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,UAAlB,uBACE,KAAC,OAAD,IADF,EAVA,cAaA,KAAC,KAAD,EAAO,IAAI,CAAC,SAAZ,uBACE,KAAC,UAAD,IADF,EAbA,cAgBA,KAAC,KAAD,EAAO,IAAI,CAAC,kBAAZ,uBACE,KAAC,WAAD,IADF,EAhBA,cAmBA,KAAC,KAAD,EAAO,IAAI,CAAC,kBAAZ,uBACI,KAAC,mBAAD,IADJ,EAnBA,GADF,CAyBD,CAtCD,CAwCA,QAASC,CAAAA,GAAT,EAAe,iBACYhC,UAAU,CAACc,OAAD,CAASC,YAAT,CADtB,4CACNI,KADM,iBACAC,QADA,iBAEb,mBACI,KAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,CAAE,CAACD,KAAK,CAALA,KAAD,CAAOC,QAAQ,CAARA,QAAP,CAA7B,uBACF,MAAC,aAAD,yBACA,KAAC,MAAD,IADA,cAEA,KAAC,OAAD,IAFA,GADE,EADJ,CAQD,CAED,cAAeY,CAAAA,GAAf","sourcesContent":["import React,{useEffect,createContext,useReducer,useContext} from 'react';\nimport Navbar from './components/Navbar';\nimport \"./App.css\";\nimport {BrowserRouter,Route,Switch,useHistory} from 'react-router-dom'\nimport Home from './components/screens/Home';\nimport Signin from './components/screens/Signin';\nimport Signup from './components/screens/Signup'; \nimport Profile from './components/screens/Profile';\nimport UserProfile from './components/screens/UserProfile';\nimport SubscribedUserPosts from './components/screens/SubscribesUserPosts'\nimport CreatePost from './components/screens/CreatePost';\nimport {reducer,initialState} from './reducers/userReducer'\n\nexport const UserContext = createContext();\n\nconst Routing=()=> {\n  const history = useHistory()\n  const {state,dispatch} = useContext(UserContext)\n  useEffect(()=>{\n    const user = JSON.parse(localStorage.getItem(\"user\"))\n    if(user){\n      dispatch({type:\"USER\",payload:user})\n      // history.push('/')\n    }else{\n      if(!history.location.pathname.startsWith('/reset'))\n        history.push('/signin')\n    }\n  },[])\n  return (\n    <Switch>\n    <Route exact path='/'>\n      <Home />\n    </Route>\n    <Route path='/signin'>\n      <Signin />\n    </Route>\n    <Route path='/signup'>\n      <Signup />\n    </Route>\n    <Route exact path='/profile'>\n      <Profile />\n    </Route>\n    <Route path='/create'>\n      <CreatePost />\n    </Route>\n    <Route path='/profile/:userid'>\n      <UserProfile />\n    </Route>\n    <Route path=\"/myfollowingpost\">\n        <SubscribedUserPosts />\n      </Route>\n    </Switch>\n  );\n}\n\nfunction App() {\n  const [state,dispatch] = useReducer(reducer,initialState)\n  return (\n      <UserContext.Provider value={{state,dispatch}}>\n    <BrowserRouter>\n    <Navbar />\n    <Routing />\n    </BrowserRouter>\n    </UserContext.Provider>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}